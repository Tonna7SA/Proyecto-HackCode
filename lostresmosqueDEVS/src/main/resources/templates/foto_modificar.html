<!DOCTYPE html>
<html lang="en">
 <html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org%22%3E/">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cambiar Foto</title>
    <link rel="shortcut icon" href="/IMG/Mosqueteros.ico" type="image/x-icon">
    <link rel="stylesheet" href="/CSS/style.css">
    <link rel="stylesheet" href="/CSS/registro.css">
    <link rel="stylesheet" href="/css/navbar.css">

</head>

<body>
   
    <nav th:replace="/fragments/navbar :: nav"></nav>

    <div class="contenedorregistro">

        <form class="form" th:action="@{/foto}" method="POST" enctype="multipart/form-data">
            <span class="signup">Cambiar Foto</span>
            <input hidden th:value="${session.usuariosession.legajoDni}" name="legajoDni">
<!--                <input type="text" name="nombreUsuario" th:value="${session.usuariosession.nombreUsuario}"
                placeholder="Ingrese nombre y apellido del empleado" class="form--input">

            <input type="email" name="email" th:value="${session.usuariosession.email}" placeholder="Ingrese el email"
                class="form--input">
            <input type="password" name="password" placeholder="Contraseña" class="form--input">
            <input type="password" name="password2" placeholder="Confirmar Contraseña" class="form--input">-->
<div class="subirimagen">
    <span class="subirimagen-title">Cambiar Foto</span>
    <p class="subirimagen-paragraph">
        Solo formato .jpg
    </p>
    <label for="file-input" class="drop-container">
        <div id="image-preview-container">
            <img style="width: 150px; border-radius: 20px;" id="image-preview"
                 th:src="@{/imagen/__${session.usuariosession.legajoDni}__}"  alt="Vista previa de la imagen">
        </div>
        <input type="file" accept="image/*" id="file-input" name="archivo">
    </label>
</div>
            <button id="btnModal" class="form--submit">
                Modificar
            </button>



            <div id="modal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>Información</h2>
                    <p>Este es el contenido del modal.</p>
                </div>
            </div>

        </form>

    </div>

    <div class="contenedor">

        <svg class="editorial" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 24 150 28 " preserveAspectRatio="none">
            <defs>
                <path id="gentle-wave" d="M-160 44c30 0 
    58-18 88-18s
    58 18 88 18 
    58-18 88-18 
    58 18 88 18
    v44h-352z" />
            </defs>
            <g class="parallax1">
                <use xlink:href="#gentle-wave" x="50" y="3" fill="#f461c1" />
            </g>
            <g class="parallax2">
                <use xlink:href="#gentle-wave" x="50" y="0" fill="#4579e2" />
            </g>
            <g class="parallax3">
                <use xlink:href="#gentle-wave" x="50" y="9" fill="#3461c1" />
            </g>
            <g class="parallax4">
                <use xlink:href="#gentle-wave" x="50" y="6" fill="#fff" />
            </g>
        </svg>


    </div>

    <script src="/JS/carrusel.js"></script>
    <script src="/JS/formularioFoto.js"></script>
    <script src="/JS/calcularFecha.js"></script>
    <script src="/JS/modal.js"></script>

<script>   
document.getElementById("file-input").addEventListener("change", function() {
    var reader = new FileReader();
    reader.onload = function() {
        document.getElementById("image-preview").src = reader.result;
    }
    reader.readAsDataURL(this.files[0]);
});

document.getElementById("file-input").addEventListener("blur", function() {
    if (this.value == "") {
        document.getElementById("image-preview").src = document.getElementById("image-preview").getAttribute("th:src");
    }
});
</script>
</body>

</html>