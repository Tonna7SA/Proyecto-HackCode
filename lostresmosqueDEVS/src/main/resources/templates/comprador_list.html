<!DOCTYPE html>
<html lang="en">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org%22%3E/">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Compradores</title>
    <link rel="shortcut icon" href="/img/Mosqueteros.ico" type="image/x-icon">
    <link rel="stylesheet" href="/CSS/style.css">
    <link rel="stylesheet" href="/CSS/tablas.css">
    <link rel="stylesheet" href="/css/navbar.css">

</head>

<body>

    <nav th:replace="/fragments/navbar :: nav"> </nav>

    <div class="content">
        <div class="cardExito" th:if="${success != null}" th:text="${success}">
            <div class="headerExito">
                <div class="imageCheck">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <g stroke-width="0" id="SVGRepo_bgCarrier"></g>
                        <g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier"></g>
                        <g id="SVGRepo_iconCarrier">
                            <path stroke-linejoin="round" stroke-linecap="round" stroke-width="1.5" stroke="#000000"
                                d="M20 7L9.00004 18L3.99994 13"></path>
                        </g>
                    </svg>
                </div>
                <div class="actions">
                    <button type="button" class="history" >Ã‰xito al
                        eliminar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="content">
        <div class="cardEliminar" th:if="${error != null}" th:text="${error}">
            <div class="headerEliminar">
                <div class="image"><svg aria-hidden="true" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"
                        fill="none">
                        <path
                            d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"
                            stroke-linejoin="round" stroke-linecap="round"></path>
                    </svg></div>

                <div class="actions">
                    <button class="desactivate" type="button" >Error al
                        eliminar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="content">
        <div class="cintaCard shadowCinta">
            <div class="ribbon">
                <div class="ribbon-stitches-top"></div>
                <div class="ribbon-content">
                    <span>Listado de compradores</span>
                </div>
                <div class="ribbon-stitches-bottom"></div>
            </div>
        </div>
    </div>
    <div class="content">

        <div class="container-fluid" style="max-width: 1500px; margin: 0 auto;">

            <div class="my-3">
                <form th:action="@{/compradores/listar}">
                    <div class="d-flex justify-content-center">
                        <div class="col-md-6 mt-2">
                            <div class="d-flex align-items-center">
                                <i class="fa fa-search"></i>
                                <input id="keyword" type="search" name="keyword" th:value="${keyword}"
                                    class="form--input" style="width: 150px; height: 40px;
                                background-color: #343945; color: white; border-radius: 10px; text-align: center"
                                    placeholder="Ingrese dni">
                                <button type="submit" class="form--input" style="width: 100px; height: 40px; background-color: blueviolet; color: white; 
                                    border-radius: 10px"><b>Buscar</b></button>
                                    <button onclick="limpiar()" class="form--input" style="width: 100px; height: 40px; background-color: #54bc9b; color: white; 
                                    border-radius: 10px"><b>Limpiar</b></button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="contenedorCentro">

        <table class="zigzag">
            <thead>
                <tr>
                    <th class="header">Nombre y Apellido</th>
                    <th class="header">Dni</th>
                    <th class="header">Edad</th>
                    <th class="header">Fecha de Alta</th>
                    <th class="header">Estado</th>
                    <th class="header">Email</th>
                    <th class="header" sec:authorize="hasAnyRole('ADM')">Modificar</th>
                    <th class="header" sec:authorize="hasAnyRole('ADM')">Cambiar Estado</th>
                    <th class="header" sec:authorize="hasAnyRole('ADM')">Eliminar</th>
                    <th class="header">Vender entrada</th>
                </tr>
            </thead>
            <tbody th:each="compradores : ${compradores}">
                <tr>
                    <!--                    <th scope="row" th:text="${compradores.id}"></th>-->
                    <td th:text="${compradores.nombreApellido}"></td>
                    <td th:text="${compradores.dni}"></td>
                    <td th:text="${compradores.edad}"></td>
                    <td th:text="${compradores.fechaDeAlta}"></td>
                    <td th:text="${compradores.activo  ? 'Activo' : 'Inactivo'}"></td>
                    <td th:text="${compradores.email}"></td>
                    <td sec:authorize="hasAnyRole('ADM')">
                        <button class="btnModificar">
                            <a th:href="@{/compradores/modificar/__${compradores.id}__}">Modificar</a>
                        </button>

                    </td>
                    <td sec:authorize="hasAnyRole('ADM')">
                        <button class="btnCambiar">
                            <a th:href="@{/compradores/modificarEstado/__${compradores.id}__}">Cambiar </a>
                        </button>
                    </td>
                    <td sec:authorize="hasAnyRole('ADM')">
                        <button class="btnEliminar">
                            <a th:href="@{/compradores/eliminar/__${compradores.id}__}">Eliminar
                            </a>
                        </button>
                    </td>
                    <td>
                        <button class="btnVender" th:if="${compradores.activo == true}">
                            <a th:href="@{/ventas/registrar/__${compradores.id}__}" >Venta</a>
                        </button>
                    </td>
                </tr>

            </tbody>
        </table>
    </div>


    <div class="contenedor">

        <svg class="editorial" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 24 150 28 " preserveAspectRatio="none">
            <defs>
                <path id="gentle-wave" d="M-160 44c30 0 
                                                              58-18 88-18s
                                                              58 18 88 18 
                                                              58-18 88-18 
                                                              58 18 88 18
                                                              v44h-352z" />
            </defs>
            <g class="parallax1">
                <use xlink:href="#gentle-wave" x="50" y="3" fill="#f461c1" />
            </g>
            <g class="parallax2">
                <use xlink:href="#gentle-wave" x="50" y="0" fill="#4579e2" />
            </g>
            <g class="parallax3">
                <use xlink:href="#gentle-wave" x="50" y="9" fill="#3461c1" />
            </g>
            <g class="parallax4">
                <use xlink:href="#gentle-wave" x="50" y="6" fill="#fff" />
            </g>
        </svg>


    </div>

    <script src="/JS/carrusel.js"></script>
    <script>
    function limpiar() {
    document.getElementById("keyword").value = "";
    }
    </script>
</body>

</html>